<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>문자열과 숫자</title>
    <style>
        .area{
            width: 400px;
            border: 1px solid;
            padding: 5px;
        }
    </style>
</head>
<body>
    <h1>문자열과 숫자</h1>
    
    <h3>* 문자열 관련 메소드</h3>
    <button onclick="StringTest();">문자열 처리 메소드</button>
    <div id="area1" class="area"></div>

    <script>
        function StringTest() {
            const area1 = document.getElementById('area1');
            const str1 = "Hello World";

            area1.innerHTML = "str1(백틱 안한거) : " + str1 + "<br>";
            area1.innerHTML += `str1(백틱 한거) : ${str1}<br>`;    // += 안하면 마지막거만 나옴 

            area1.innerHTML += `toUpperCase() : ${str1.toUpperCase()}<br>`;
            area1.innerHTML += `toLowerCase() : ${str1.toLowerCase()}<br>`;
            area1.innerHTML += `문자열의 길이 : ${str1.length}<br>`;
            area1.innerHTML += "-----------------------------------<br>";

            for(let i = 0; i<str1.length; i++){
                // area1.innerHTML += `${i}번 인덱스 : ${str1[i]}<br>`;     //아래랑 같음
                area1.innerHTML += `${i}번 인덱스 : ${str1.charAt(i)}<br>`; 
            }
            area1.innerHTML += "-----------------------------------<br>";

            area1.innerHTML += `앞에서부터 첫 번째 'l'의 위치 : ${str1.indexOf("l")}<br>`;
            area1.innerHTML += `뒤에서부터 첫 번째 'l'의 위치 : ${str1.lastIndexOf("l")}<br>`;
            area1.innerHTML += `앞에서부터 첫 번째 'a'의 위치 : ${str1.indexOf('a')}<br>`;      //존재하지 않는 문자열은 -1반환
            area1.innerHTML += "-----------------------------------<br>";

            area1.innerHTML += `substring(시작인덱스) : ${str1.substring(7)}<br>`;
            area1.innerHTML += `substring(시작인덱스, 끝인덱스) : ${str1.substring(0,5)}<br>`;  // 설정 인덱스 부터 시작해서 끝인덱스의 바로 앞까지 출력

            const str2 = "사과, 바나나, 복숭아, 키위";
            console.log(typeof str2);
            const fruits = str2.split(","); //문자열이었던게 배열로 들어옴 [사과,바나나,...]  객체가됨

            area1.innerHTML += `str2 : ${fruits}<br>`;      //값은 같지만 타입 string
            area1.innerHTML += `fruits : ${fruits}<br>`;    //값은 같지만 타입 object
            area1.innerHTML += `str2의 자료형 : ${typeof str2}<br>`;
            area1.innerHTML += `fruits의 자료형 : ${typeof fruits}<br>`;
            console.log(typeof str2);
            console.log(typeof fruits);
        }
    </script>

    <h3>* 문자열 관련 html 메소드</h3>
    <button onclick="stringhtmlTest();">문자열 html 메소드</button>
    <div id="area2" class="area"></div>

    <script>
        function stringhtmlTest() {
            let area2 = document.getElementById("area2");

            let str = "javascript";

            area2.innerHTML = `str : ${str}<br>`;
            //area2.innerHTML += `bold() : ${str.bold()}<br>`;
            //area2.innerHTML += `italics() : ${str.italics()}<br>`;
            //동시적용은 .으로 연속연결
            area2.innerHTML += `bold_italics : ${str.bold().italics()}<br>`;    //bold().italics()  이렇게 합치면됨
            area2.innerHTML += `small() : ${str.small()}<br>`;
            area2.innerHTML += `sub() 아래첨자 : ${str.sub()}<br>`;
            area2.innerHTML += `sup() 위첨자 : ${str.sup()}<br>`;
            area2.innerHTML += `link() : ${str.link("https://naver.com")}<br>`;

        }
    </script>

    <hr>

    <h3>* 숫자(수학) 관련 메소드</h3>
    <button onclick="mathTest();">숫자 관련 메소드</button>
    <div id="area3" class="area"></div>

    <script>
        function mathTest() {
            const area3 = document.getElementById("area3");

            // 자바스크립트 Math내장 객체 제공
            area3.innerHTML += `절대값 : ${Math.abs(-1234)}<br>`;
            area3.innerHTML += `랜덤값 : ${Math.random()}<br>`;
            area3.innerHTML += `반올림 : ${Math.round(123.798)}<br>`;   //반올림 위치조정 불가
            area3.innerHTML += `버림 : ${Math.floor(123.4556)}<br>`;    
            area3.innerHTML += `올림 : ${Math.ceil(123.4556)}<br>`;
        }
    </script>

    <hr>

    <h3>* 문자열과 숫자간의 산술연산 / 형변환</h3>

    <button onclick="arithmetic();">산술연산</button>
    <div id="area4" class="area"></div>
    <script>
        function arithmetic(){
            let test1 = 7 + 7;           // 14
            let test2 = 7 + "7";         // "77" 
            let test3 = "7" + 7 + 7;     // "777"  문자열이 하나라도 포함되어있으면 문자열로 취급
            let test4 = "7" + (7 + 7);   // "714"
            console.log(`tes1 = ${test1}, test2 = ${test2}, test3 = ${test3}, test4 = ${test4}`);

            const area4 = document.getElementById("area4");
            area4.innerHTML = `tes1 = ${test1}, test2 = ${test2}, test3 = ${test3}, test4 = ${test4}<br>`;
            

            //덧셈을 제외한 산술연산은 문자열이어도 자동으로 숫자로 형변환하여 산술연산됨
            //단, 문자가 포함되어 있으면 안됨
            const test5 = '7' - 7;      //0
            const test6 = "7" * 3;      //21
            const test7 = '7' / 7;      //1
            area4.innerHTML += '-----------------------------------------------------------<br>';
            area4.innerHTML += `test5 = ${test5}, test6 = ${test6}, test7 = ${test7}<br>`;

            //문자열이 포함된 덧셈일 때 강제 형변환 해야함
            /*
                1) Number(문자열)
                2) parseInt(문자열)
                3) parseFloat(문자열)
                Number, parseInt 많이씀 
            */

            // 2, "3"
            const test8 = 2 + "3";              //23
            const test9 = 2 + Number("3");      //5
            const test10 = 2 + parseInt("3");   //5
            const test11 = 2 + parseFloat("3"); //5
            area4.innerHTML += '-----------------------------------------------------------<br>';
            area4.innerHTML += `test8 = ${test8}, test9 = ${test9}, test10 = ${test10}, test11 = ${test11}<br>`;

            // 2, "1.234"
            const test12 = 2 + Number("1.234");     //3.234
            const test13 = 2 + parseInt("1.234");   //3         버림
            const test14 = 2 + parseFloat("1.234"); //3.234
            area4.innerHTML += '-----------------------------------------------------------<br>';
            area4.innerHTML += `test12 = ${test12}, test13 = ${test13}, test14 = ${test14}<br>`;
        }
    </script>

    <hr>
    정수 1 : <input type="number" id="num1"><br>
    정수 2 : <input type="number" id="num2"><br>

    <div id="result">결과없음</div>

    <button onclick="plus();">덧셈</button>
    <script>
        function plus() {
            const result = document.getElementById('result');

            // const num1 = document.getElementById('num1');
            // let a = num1.value;
            // 위에 두줄 한줄로 합치면
            const num1 = document.getElementById('num1').value;
            
            const num2 = document.getElementById('num2').value;

            //input 요소의 value값은 무조건 String타입
            //덧셈을 제외한 연산은 자동형변환 되므로 변환필요없음
            //const sum = num1 + num2;    //num1num2

            //형변환 해줘야함
            const sum = Number(num1) + Number(num2);
            result.innerHTML = `결과 : ${sum}`;
        }
    </script>

    <br>
    
    <h3>실습문제</h3>
    <p>
        사용자로부터 prompt로 문자를 입력받아 알파벳(소문자만) 숫자세기
    </p>
    <button onclick="example();">실습문제</button>
    <div id="ex"></div>

    <script>
        function example() {
            const text = prompt("문자입력(영문자만)");
            let count = 0;

            for(let i = 0; i<text.length; i++){
                if(text[i] >= 'a' && text[i] <= 'z'){
                    count++;
                }
            }

            document.getElementById("ex").innerHTML = `입력한 문자열의 알파벳 소문자 개수 : ${count}개`;
        }
    </script>



</body>
</html>